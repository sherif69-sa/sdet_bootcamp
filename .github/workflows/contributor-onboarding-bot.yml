name: Contributor Onboarding Bot

on:
  pull_request:
    types: [opened, reopened]

permissions:
  contents: read
  pull-requests: write
  issues: write

jobs:
  welcome:
    runs-on: ubuntu-latest
    steps:
      - name: Post onboarding hints
        uses: actions/github-script@f28e40c7f34bde8b3046d885e986cb6290c5673b  # v7
        with:
          script: |
            const body = [
              '### ðŸ‘‹ Premium contribution quick-start',
              '',
              'To keep this PR at premium quality, run:',
              '- `python -m ruff format --check .`',
              '- `python -m pre_commit run -a`',
              '- `bash quality.sh cov`',
              '- `python -m build && python -m twine check dist/*`',
              '- `mkdocs build` (when docs are touched)',
              '',
              'Need bot help?',
              '- comment `/doctor` for diagnostics',
              '- comment `/check` to run validation checks',
              '- comment `/quality` to run the full coverage gate',
              '- comment `/hint` for a compact quality checklist',
              '',
              'Reference: `docs/premium-quality-gate.md`',
            ].join('\n');

            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body,
            });
